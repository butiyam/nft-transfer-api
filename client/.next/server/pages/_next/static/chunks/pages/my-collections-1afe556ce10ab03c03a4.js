(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{40082:function(e,a,t){"use strict";t.r(a);var s=t(71385),c=t(809),l=t.n(c),i=t(92447),r=t(74047),n=t(4706),o=t(52700),m=t(8127),d=t(44102),p=t(20775),u=t(26265),h=t(67294),N=t.n(h),g=(t(9008),t(41101),t(29143)),f=t(85241),v=t.n(f),_=t(98739),x=t(95228),b=N().createElement;function w(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,s=(0,p.Z)(e);if(a){var c=(0,p.Z)(this).constructor;t=Reflect.construct(s,arguments,c)}else t=s.apply(this,arguments);return(0,d.Z)(this,t)}}var y=t(98945),k=t(37918),B=new k,D=B.utils.BN,S=new y,A=(v()("https://ipfs.infura.io:5001/api/v0"),function(e){(0,m.Z)(t,e);var a=w(t);function t(e){var s;return(0,r.Z)(this,t),s=a.call(this,e),(0,u.Z)((0,n.Z)(s),"ethEnabled",(0,i.Z)(l().mark((function e(){var a,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=9;break}return e.next=3,ethereum.request({method:"eth_requestAccounts"});case 3:return a=e.sent,t=a[0],s.setState({account:t}),window.web3=new k(window.ethereum),s.web3=window.web3,e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})))),s.state={account:"",balanceInBNB:0,BNBinUSD:0,walletAddress:"",contract:null,sale_contract:null,sale_address:null,totalSupply:0,images:[],owners:[],imageData_name:[],imageData_url:[],imageData_price:[],new_price:null,token_sale_contract:null,token_price:0,approved:[]},s}return(0,o.Z)(t,[{key:"render",value:function(){var e=this;return b(N().Fragment,null,b("div",{className:"container"},b("div",{className:"section mt-100"},b("div",{className:"section__head"},b("h2",{className:"section__title mb-20"}," My Collections"),b("div",{className:"row justify-content-between align-items-center"},b("div",{className:"col-lg-auto"},b("div",{className:"d-flex space-x-10 align-items-center"},b("span",{className:"color_text txt_sm",style:{minWidth:"max-content"}},"FILTER BY:"),b("ul",{className:"menu_categories space-x-20"},b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch1"}),b("label",{for:"switch1"},"Toggle"),b("span",null," Has list price ")),b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch2",checked:!0}),b("label",{for:"switch2"},"Toggle"),b("span",null," Has open offer ")),b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch3"}),b("label",{for:"switch3"},"Toggle"),b("span",null," Owned by creator ")),b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch4"}),b("label",{for:"switch4"},"Toggle"),b("span",null," Has sold "))),"                    ")),b("div",{className:"col-lg-auto"},b("div",{className:"d-flex space-x-10 align-items-center sm:mt-20"},b("span",{className:"color_text txt_sm"}," SORT BY: "),b("div",{className:"dropdown"},b("button",{className:"btn btn-dark btn-sm dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Recent Active"),b("div",{className:"dropdown-menu"},b("a",{className:"dropdown-item",href:"#"},"Action"),b("a",{className:"dropdown-item",href:"#"},"Another action"),b("a",{className:"dropdown-item",href:"#"},"Something else here"))))))),b("div",{className:"modal fade popup",id:"popup_bid_success",tabindex:"-1",role:"dialog","aria-hidden":"true"},b("div",{className:"modal-dialog modal-dialog-centered",role:"document"},b("div",{className:"modal-content"},b("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},b("span",{"aria-hidden":"true"},"\xd7")),b("div",{className:"modal-body space-y-20 p-40"},b("h3",{className:"text-center"},"Your Bidding Successfuly Added"),b("p",{className:"text-center"},"your bid ",b("span",{className:"color_text txt\r _bold"},"(16ETH) ")," has been listing to our database"),b("a",{href:"#",className:"btn btn-dark w-full"}," Watch the listings"))))),b("div",{className:"modal fade popup",id:"popup_history",tabindex:"-1",role:"dialog","aria-hidden":"true"},b("div",{className:"modal-dialog modal-dialog-centered",role:"document"},b("div",{className:"modal-content"},b("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},b("span",{"aria-hidden":"true"},"\xd7")),b("div",{className:"modal-body space-y-20 p-40"},b("h4",null," History "),b("div",{className:"creator_item creator_card space-x-10"},b("div",{className:"avatars space-x-10"},b("div",{className:"media"},b("div",{className:"badge"},b("img",{src:"assets/img/icons/Badge.svg",alt:""})),b("a",{href:"Profile.html"},b("img",{src:"assets/img/avatars/avatar_1.png",alt:"Avatar",className:"avatar avatar-md"}))),b("div",null,b("p",{className:"color_black"},"Bid accepted ",b("span",{className:"color_brand"},"1 ETH")," by ",b("a",{className:"color_black txt\r _bold",href:"Profile.html"},"ayoub")),b("span",{className:"date color_text"},"28/06/2021, 12:08")))),b("div",{className:"creator_item creator_card space-x-10"},b("div",{className:"avatars space-x-10"},b("div",{className:"media"},b("div",{className:"badge"},b("img",{src:"assets/img/icons/Badge.svg",alt:""})),b("a",{href:"Profile.html"},b("img",{src:"assets/img/avatars/avatar_2.png",alt:"Avatar",className:"avatar avatar-md"}))),b("div",null,b("p",{className:"color_black"},"Bid accepted ",b("span",{className:"color_brand"},"3 ETH")," by ",b("a",{className:"color_black txt\r _bold",href:"Profile.html"},"monir")),b("span",{className:"date color_text"},"22/05/2021, 12:08")))))))),b("div",{className:"row mb-30_reset"},this.state.images.map((function(a,t){return e.state.owners[t]===e.state.account?b(N().Fragment,null,b("div",{className:"modal fade popup",id:"popup_approve"+t,tabindex:"-1",role:"dialog","aria-hidden":"true"},b("div",{className:"modal-dialog modal-dialog-centered",role:"document"},b("div",{className:"modal-content"},b("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},b("span",{"aria-hidden":"true"},"\xd7")),b("div",{className:"modal-body space-y-20 p-40"},b("h3",null,"Approve for sale"),b("p",null,e.state.imageData_name[t]," ",b("span",{className:"color_black"},e.state.imageData_price[t]," BNB")),b("input",{type:"number",className:"form-control",value:e.state.new_price,placeholder:e.state.imageData_price[t]}),b("div",{className:"hr"}),b("div",{className:"d-flex justify-content-between"},b("p",null," You'r paying listing fee for sale approval:")),b("div",{className:"d-flex justify-content-between"},b("p",null," listing fee:"),b("p",{className:"text-right color_black txt _bold"}," 0.045 BNB/$",parseFloat(.045*e.state.BNBinUSD).toFixed(2)," ")),b("div",{className:"d-flex justify-content-between"},b("p",null," Current price:"),b("p",{className:"text-right color_black txt _bold"}," ",e.state.imageData_price[t]," BNB/$",parseFloat(e.state.BNBinUSD*e.state.imageData_price[t]).toFixed(2)," ")),b("a",{href:"#",className:"btn btn-primary w-full","data-toggle":"modal","data-target":"#popup_bid_success","data-dismiss":"modal","aria-label":"Close"}," Approve"))))),b("div",{className:"col-xl-3 col-lg-4 col-md-6 col-sm-6"},b("div",{className:"card__item four"},b("div",{className:"card_body space-y-10"},b("div",{className:"creators space-x-10"},b("div",{className:"avatars space-x-3"},b("a",{href:"Profile.html"},b("img",{src:"assets/img/avatars/avatar_1.png",alt:"Avatar",className:"avatar avatar-sm"})),b("a",{href:"Profile.html"},b("p",{className:"avatars_name txt_xs"},e.state.walletAddress)))),b("div",{className:"card_head"},b("a",{href:"nft-detail/"+t},b("img",{src:e.state.imageData_url[t],alt:""})),b("a",{href:"#",className:"likes space-x-3"},b("i",{className:"ri-heart-3-fill"}),b("span",{className:"txt_sm"},"1.2k"))),b("h6",{className:"card_title"},e.state.imageData_name[t]),b("div",{className:"card_footer d-block space-y-10"},b("div",{className:"card_footer justify-content-between"},b("a",{href:"#",className:""},b("p",{className:"txt_sm"},"Price: ",b("span",{className:"color_green\r txt_sm"},e.state.imageData_price[t]," BNB/$",parseFloat(e.state.imageData_price[t]*e.state.BNBinUSD).toFixed(2))))),b("div",{className:"hr"}),b("div",{className:"d-flex align-items-center space-x-10\r justify-content-between"},b("div",{className:"d-flex align-items-center\r space-x-10"},b("i",{className:"ri-history-line"}),b("a",{className:"view_history",href:"#","data-toggle":"modal","data-target":"#popup_history"},b("p",{className:"color_text txt_sm",style:{width:"auto"}},"View History"))),b("a",{className:"btn btn-sm btn-primary",href:"nft-detail/"+t,"data-toggle":"modal","data-target":"#popup_update"+t},"View"))))))):null})))),b("div",{className:"section mt-100"},b("div",{className:"section__head"},b("h2",{className:"section__title mb-20"}," Collections"),b("div",{className:"row justify-content-between align-items-center"},b("div",{className:"col-lg-auto"},b("div",{className:"d-flex align-items-center space-x-10"},b("span",{className:"color_text txt_sm",style:{minWidth:"max-content"}},"FILTER BY:"),b("ul",{className:"menu_categories space-x-20"},b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch7"}),b("label",{for:"switch7"},"Toggle"),b("span",null," Has list price ")),b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch8",checked:!0}),b("label",{for:"switch8"},"Toggle"),b("span",null," Has open offer ")),b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch9"}),b("label",{for:"switch9"},"Toggle"),b("span",null," Owned by creator ")),b("li",{className:"d-flex space-x-10 switch_item"},b("input",{type:"checkbox",id:"switch10"}),b("label",{for:"switch10"},"Toggle"),b("span",null," Has sold "))))),b("div",{className:"col-lg-auto"},b("div",{className:"d-flex space-x-10 align-items-center sm:mt-20"},b("span",{className:"color_text txt_sm"}," SORT BY: "),b("div",{className:"dropdown"},b("button",{className:"btn btn-dark btn-sm dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Recent Active"),b("div",{className:"dropdown-menu"},b("a",{className:"dropdown-item",href:"#"},"Action"),b("a",{className:"dropdown-item",href:"#"},"Another action"),b("a",{className:"dropdown-item",href:"#"},"Something else here"))))))),b("div",{className:"row justify-content-center mb-30_reset"},b("div",{className:"col-lg-4 col-md-6 col-sm-8"},b("div",{className:"collections space-y-10 mb-30"},b("a",{href:"404-4.html"},b("div",{className:"collections_item"},b("div",{className:"images-box space-y-10"},b("div",{className:"top_imgs"},b("img",{src:"assets/img/items/item_9.png",alt:""}),b("img",{src:"assets/img/items/item_10.png",alt:""}),b("img",{src:"assets/img/items/item_11.png",alt:""})),b("img",{src:"assets/img/items/item_12.png",alt:""})))),b("div",{className:"collections_footer justify-content-between"},b("h5",{className:"collection_title"},b("a",{href:"Collections.html"},"Creative Art collection")),b("a",{href:"#",className:"likes space-x-3"},b("i",{className:"ri-heart-3-fill"}),b("span",{className:"txt_md"},"2.1k"))),b("div",{className:"creators space-x-10"},b("span",{className:"color_text txt_md"}," 5 items \xb7 Created by"),b("div",{className:"avatars space-x-5"},b("a",{href:"Profile.html"},b("img",{src:"assets/img/avatars/avatar_2.png",alt:"Avatar",className:"avatar avatar-sm"}))),b("a",{href:"Profile.html"},b("p",{className:"avatars_name txt_sm"}," @william_jamy... "))))),b("div",{className:"col-lg-4 col-md-6 col-sm-8"},b("div",{className:"collections space-y-10 mb-30"},b("a",{href:"404-4.html"},b("div",{className:"collections_item"},b("div",{className:"images-box space-y-10"},b("div",{className:"top_imgs"},b("img",{src:"assets/img/items/item_13.png",alt:""}),b("img",{src:"assets/img/items/item_14.png",alt:""}),b("img",{src:"assets/img/items/item_15.png",alt:""})),b("img",{src:"assets/img/items/item_16.png",alt:""})))),b("div",{className:"collections_footer justify-content-between"},b("h5",{className:"collection_title"},b("a",{href:"Collections.html"},"Colorful Abstract Painting")),b("a",{href:"#",className:"likes space-x-3"},b("i",{className:"ri-heart-3-fill"}),b("span",{className:"txt_md"},"3.5k"))),b("div",{className:"creators space-x-10"},b("span",{className:"color_text txt_md"}," 7 items \xb7 Created by"),b("div",{className:"avatars space-x-5"},b("a",{href:"Profile.html"},b("img",{src:"assets/img/avatars/avatar_3.png",alt:"Avatar",className:"avatar avatar-sm"}))),b("a",{href:"Profile.html"},b("p",{className:"avatars_name txt_sm"}," @alexis_fenn... "))))),b("div",{className:"col-lg-4 col-md-6 col-sm-8"},b("div",{className:"collections space-y-10 mb-30"},b("a",{href:"404-4.html"},b("div",{className:"collections_item"},b("div",{className:"images-box space-y-10"},b("div",{className:"top_imgs"},b("img",{src:"assets/img/items/item_17.png",alt:""}),b("img",{src:"assets/img/items/item_18.png",alt:""}),b("img",{src:"assets/img/items/item_19.png",alt:""})),b("img",{src:"assets/img/items/item_20.png",alt:""})))),b("div",{className:"collections_footer justify-content-between"},b("h5",{className:"collection_title"},b("a",{href:"Collections.html"},"Modern Art collection")),b("a",{href:"#",className:"likes space-x-3"},b("i",{className:"ri-heart-3-fill"}),b("span",{className:"txt_md"},"7.2k"))),b("div",{className:"creators space-x-10"},b("span",{className:"color_text txt_md"}," 2 items \xb7 Created by"),b("div",{className:"avatars space-x-5"},b("a",{href:"Profile.html"},b("img",{src:"assets/img/avatars/avatar_1.png",alt:"Avatar",className:"avatar avatar-sm"}))),b("a",{href:"Profile.html"},b("p",{className:"avatars_name txt_sm"}," @Joshua_Bren... ")))))))))}}]),(0,o.Z)(t,[{key:"componentWillMount",value:function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBlockchainData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadBlockchainData",value:function(){var e=(0,i.Z)(l().mark((function e(){var a,t,c,i,r,n,o,m,d,p,u,h,N,f,v,b,w,y,A;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.Z)();case 3:return this.web3=e.sent,e.next=6,this.web3.eth.getAccounts();case 6:return a=e.sent,this.setState({account:a[0]}),e.next=10,B.eth.net.getId();case 10:this.networkId=e.sent,e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),t=new k.providers.HttpProvider("https://data-seed-prebsc-1-s1.binance.org:8545"),this.web3=new k(t),this.networkId=97;case 18:if(!this.state.account){e.next=26;break}return e.next=21,this.web3.eth.getBalance(this.state.account);case 21:return c=e.sent,e.next=24,B.utils.fromWei(new D(c),"ether");case 24:i=e.sent,this.setState({balanceInBNB:parseFloat(i).toFixed(2),walletAddress:this.state.account.substring(0,6)+"..."+this.state.account.substring(38)});case 26:if(!(r=_.QW[this.networkId])){e.next=76;break}return n=_.Mt,o=r.address,m=new this.web3.eth.Contract(n,o),this.setState({contract:m}),e.next=34,m.methods.totalSupply().call();case 34:d=e.sent,this.setState({totalSupply:d}),p=1;case 37:if(!(p<=d)){e.next=45;break}return e.next=40,m.methods.images(p-1).call();case 40:u=e.sent,this.setState({images:[].concat((0,s.Z)(this.state.images),[u])});case 42:p++,e.next=37;break;case 45:p=1;case 46:if(!(p<=d)){e.next=54;break}return e.next=49,m.methods.ownerOf(p-1).call();case 49:h=e.sent,this.setState({owners:[].concat((0,s.Z)(this.state.owners),[h])});case 51:p++,e.next=46;break;case 54:p=1;case 55:if(!(p<=d)){e.next=74;break}return e.next=58,m.methods.imageData(p-1).call();case 58:return N=e.sent,e.t1=this,e.t2=[].concat((0,s.Z)(this.state.imageData_name),[N.name]),e.t3=[],e.t4=(0,s.Z)(this.state.imageData_price),e.next=65,B.utils.fromWei(N.price,"Ether");case 65:e.t5=e.sent,e.t6=[e.t5],e.t7=e.t3.concat.call(e.t3,e.t4,e.t6),e.t8=[].concat((0,s.Z)(this.state.imageData_url),[N.url]),e.t9={imageData_name:e.t2,imageData_price:e.t7,imageData_url:e.t8},e.t1.setState.call(e.t1,e.t9);case 71:p++,e.next=55;break;case 74:e.next=77;break;case 76:window.alert("Smart contract not deployed to detected network.");case 77:if(!(f=x.QW[this.networkId])){e.next=94;break}v=x.Mt,b=f.address,w=new this.web3.eth.Contract(v,b),this.setState({sale_contract:w,sale_address:b}),p=1;case 84:if(!(p<=this.state.totalSupply)){e.next=92;break}return e.next=87,this.state.contract.methods.isApprovedOrOwner(this.state.sale_contract._address,p-1).call();case 87:y=e.sent,this.setState({approved:[].concat((0,s.Z)(this.state.approved),[y])});case 89:p++,e.next=84;break;case 92:e.next=95;break;case 94:window.alert("Smart contract not deployed to detected network.");case 95:return e.prev=95,e.next=98,S.simple.price({ids:["binancecoin"],vs_currencies:["usd"]});case 98:A=e.sent,this.setState({BNBinUSD:Math.round(A.data.binancecoin.usd)}),e.next=104;break;case 102:e.prev=102,e.t10=e.catch(95);case 104:case"end":return e.stop()}}),e,this,[[0,13],[95,102]])})));return function(){return e.apply(this,arguments)}}()}]),t}(h.Component));a.default=A},2446:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-collections",function(){return t(40082)}])},47005:function(){},26937:function(){},26784:function(){},88795:function(){}},function(e){e.O(0,[774,543,351,935,259,409],(function(){return a=2446,e(e.s=a);var a}));var a=e.O();_N_E=a}]);